document.querySelectorAll||(document.querySelectorAll=function(e){var t,i,l;for(t=document.createElement("style"),i=[],i=[],l=void 0,document.documentElement.firstChild.appendChild(t),document._qsa=[],t.styleSheet.cssText=e+"{ x-qsa: expression(document._qsa && document._qsa.push(this)) }",window.scrollBy(0,0),t.parentNode.removeChild(t);document._qsa.length;)l=document._qsa.shift(),l.style.removeAttribute("x-qsa"),i.push(l);return document._qsa=null,i});var getPreview=function(e,t,i){var l,d,a,o;if(d=e.getAttribute("data-width")>>0,a=e.getAttribute("data-height")>>0,o=new FileReader,o&&e.files[0]&&e.files[0].type.match(/image/)){var n,r,u,s;n=e.files[0].name,r=e.files[0].type.replace(/image\//,""),u=null,s=!0,e.getAttribute("data-allow-type")&&(u=e.getAttribute("data-allow-type").replace(/^\[|\]$/g,"").split(",").map(function(e){return e.trim()}),r.match(/jpeg/)?-1===u.indexOf(r)&&-1===u.indexOf("jpg")&&(s=!1):-1===u.indexOf(r)&&(s=!1)),o.onload=function(t){l=document.createElement("img"),l.src=t.target.result,l.onload=function(){var l,o,p;return l=this.width,o=this.height,p={},s?d&&d!=l||a&&a!=o?(e.value="","undefined"!=typeof i&&(p.origin={},p.uploaded={},p.uploaded.file=e.files[0],p.origin.width=d,p.uploaded.width=l,p.origin.width=a,p.uploaded.width=o,i(p)),!1):("undefined"!=typeof sFn&&(p.uploaded={},p.uploaded.file=e.files[0],sFn(p)),e.parentNode.querySelectorAll("img[data-get-preview]")[0].src=t.target.result,void console.log("Uploaded image's name is "+n)):(e.value="","undefined"!=typeof i&&(p.origin={},p.uploaded={},p.uploaded.file=e.files[0],p.origin.allowType=u,p.uploaded.allowType=r,i(p)),!1)}},o.readAsDataURL(e.files[0])}};
